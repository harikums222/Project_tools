---
// SIPCalculator Component
import AdSidebar from '../Ads/AdSidebar.astro';
---

<section class="py-12 bg-gradient-to-br from-green-50 via-white to-emerald-50">
	<div class="container mx-auto px-4">
		<div class="grid grid-cols-1 md:grid-cols-[240px_1fr] gap-12">
			<!-- Side Ads -->
			<div class="hidden md:block">
				<AdSidebar />
			</div>

			<!-- Core Content -->
			<div>
				<div class="text-center max-w-2xl mx-auto mb-12">
					<h1 class="text-4xl font-extrabold text-gray-900 mb-4 tracking-tight">SIP <span class="text-green-600">Calculator</span></h1>
					<p class="text-lg text-gray-600">Calculate the future value of your Mutual Fund Systematic Investment Plan (SIP).</p>
				</div>

				<div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden p-8 mb-8">
					<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
						<div class="space-y-6">
							<div>
								<label class="block text-sm font-semibold text-gray-700 mb-2">Monthly Investment (₹)</label>
								<input type="number" id="sip-monthly" value="5000" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all outline-none" />
								<input type="range" min="500" max="100000" step="500" value="5000" class="w-full mt-4 accent-green-600 cursor-pointer" oninput="document.getElementById('sip-monthly').value = this.value; calculateSIP()" />
							</div>
							<div>
								<label class="block text-sm font-semibold text-gray-700 mb-2">Expected Return Rate (p.a. %)</label>
								<input type="number" id="sip-rate" value="12" step="0.1" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all outline-none" />
								<input type="range" min="1" max="30" step="0.1" value="12" class="w-full mt-4 accent-green-600 cursor-pointer" oninput="document.getElementById('sip-rate').value = this.value; calculateSIP()" />
							</div>
							<div>
								<label class="block text-sm font-semibold text-gray-700 mb-2">Tenure (Years)</label>
								<input type="number" id="sip-years" value="10" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all outline-none" />
								<input type="range" min="1" max="40" step="1" value="10" class="w-full mt-4 accent-green-600 cursor-pointer" oninput="document.getElementById('sip-years').value = this.value; calculateSIP()" />
							</div>
						</div>

						<div class="bg-green-50 rounded-2xl p-8 flex flex-col justify-center space-y-6 border border-green-100">
							<div class="text-center">
								<p class="text-green-600 font-semibold mb-1">Maturity Amount</p>
								<h2 class="text-4xl font-bold text-gray-900" id="sip-total">₹ 11,61,695</h2>
							</div>
							<div class="grid grid-cols-2 gap-4 pt-6 border-t border-green-200">
								<div class="text-center">
									<p class="text-gray-500 text-xs font-bold uppercase tracking-wider mb-1">Invested</p>
									<p class="text-lg font-bold text-gray-800" id="sip-invested">₹ 6,00,000</p>
								</div>
								<div class="text-center">
									<p class="text-gray-500 text-xs font-bold uppercase tracking-wider mb-1">Est. Returns</p>
									<p class="text-lg font-bold text-green-600" id="sip-earnings">₹ 5,61,695</p>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="flex justify-center mb-16">
					<a href={`${import.meta.env.BASE_URL}/finance/advanced-sip-calculator/`} class="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold hover:shadow-lg hover:-translate-y-0.5 transition-all group">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:rotate-12 transition-transform" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M11.3 1.047a1 1 0 01.897.953V5h2.205a1 1 0 01.973 1.285l-2 7a1 1 0 01-.973.715H9.388l1.714-3.428A1 1 0 0010.21 9.5H7.5a1 1 0 01-.973-1.285l2-7a1 1 0 01.973-.715h1.8zm-5.8 5.453l-2 7a1 1 0 00.973 1.285H7.5a1 1 0 01.973 1.285l-2 7a1 1 0 01-1.87-.57l2-7H4.5a1 1 0 01-.973-1.285l2-7a1 1 0 011.87.57l-2 7H6.5a1 1 0 01.973 1.285z" clip-rule="evenodd" />
						</svg>
						Try Advanced SIP Calculator
						<span class="text-xs bg-white text-green-700 px-2 py-0.5 rounded-full ml-1">Step-up & Tax</span>
					</a>
				</div>

				<article class="prose prose-green max-w-none">
					<h2 class="text-3xl font-bold text-gray-900 mb-6">What is a SIP Calculator?</h2>
					<p class="text-gray-600 leading-relaxed mb-6">
						A Systematic Investment Plan (SIP) is a method of investing in mutual funds where you contribute a fixed amount at regular intervals (usually monthly). A SIP calculator helps you estimate the potential returns on your investments over a specific period, based on an expected annual rate of return.
					</p>
					
					<h2 class="text-3xl font-bold text-gray-900 mt-12 mb-6">How to Use the SIP Calculator</h2>
					<p class="text-gray-600 leading-relaxed mb-6">
						1. <strong>Monthly Investment:</strong> Enter the amount you plan to invest every month.<br/>
						2. <strong>Expected Return:</strong> Input the annual return rate you expect from your mutual fund scheme.<br/>
						3. <strong>Tenure:</strong> Specify how many years you intend to keep your SIP running.
					</p>

					<h2 class="text-3xl font-bold text-gray-900 mt-12 mb-6">SIP Calculation Formula</h2>
					<p class="text-gray-600 leading-relaxed mb-6">
						The formula used for calculating SIP future value is:<br/>
						<code>FV = P &times; [{(1 + i)<sup>n</sup> - 1} / i] &times; (1 + i)</code><br/><br/>
						Where:<br/>
						• <strong>FV</strong> = Future Value (Maturity Amount)<br/>
						• <strong>P</strong> = Monthly investment amount<br/>
						• <strong>i</strong> = Monthly interest rate (Annual rate / 12 / 100)<br/>
						• <strong>n</strong> = Total number of months (Tenure in years &times; 12)
					</p>
				</article>
			</div>
		</div>
	</div>
</section>

<script is:inline>
	const formatINR = (amount) => {
		return '₹ ' + Math.round(amount).toLocaleString('en-IN');
	};

	const calculateSIP = () => {
		const P = parseFloat(document.getElementById('sip-monthly').value) || 0;
		const annualRate = parseFloat(document.getElementById('sip-rate').value) || 0;
		const years = parseFloat(document.getElementById('sip-years').value) || 0;

		const i = annualRate / 12 / 100;
		const n = years * 12;

		if (P <= 0 || annualRate <= 0 || years <= 0) return;

		// Formula: FV = P × [{(1 + i)^n - 1} / i] × (1 + i)
		const FV = P * ((Math.pow(1 + i, n) - 1) / i) * (1 + i);
		const invested = P * n;
		const earnings = FV - invested;

		document.getElementById('sip-total').innerText = formatINR(FV);
		document.getElementById('sip-invested').innerText = formatINR(invested);
		document.getElementById('sip-earnings').innerText = formatINR(earnings);
	};

	['sip-monthly', 'sip-rate', 'sip-years'].forEach(id => {
		const el = document.getElementById(id);
		if (el) el.addEventListener('input', calculateSIP);
	});

	calculateSIP();
</script>

<style>
	input[type="range"] {
		-webkit-appearance: none;
		height: 6px;
		background: #e2e8f0;
		border-radius: 5px;
		background-image: linear-gradient(#10b981, #10b981);
		background-repeat: no-repeat;
	}
	
	input::-webkit-outer-spin-button,
	input::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
	}

	input[type=number] {
	-moz-appearance: textfield;
	}
</style>
